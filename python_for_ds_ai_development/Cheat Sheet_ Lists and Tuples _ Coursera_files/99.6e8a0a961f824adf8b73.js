(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{"46xw":function(module,exports,e){e("j5nu")},X9Xi:function(module,e,t){"use strict";t.r(e);var s,n,r=t("VbXa"),o=t.n(r),i=t("VkAN"),a=t.n(i),d=t("AeFk"),c=t("q1tI"),u=t("17x9"),m=t.n(u),p=t("S+eF"),l=t.n(p),g=t("MnCE"),h=t("/ukj"),I=t("sQ/U"),f=t("K7Vu"),v=t("TOZ3"),b=t("PB6g"),x=t("YmkS"),w=t("pnKK"),C=t("q5zD"),S=t("15pW"),O=t("TSOT"),P=Object(O.a)("/api/onDemandWidgetProgress.v1",{type:"rest"}),M={markComplete:function(e,t,s,n){var r={data:{sessionId:n,progressState:"Completed"}},o=[s,t,e].join("~");return l()(P.put(o,r))},markStarted:function(e,t,s,n){var r={data:{sessionId:n,progressState:"Started"}},o=[s,t,e].join("~");return l()(P.put(o,r))}},E=M,j=t("E4RX"),WidgetItemActions_refreshProgress=function(e,t,s,n){s.setState(t),e.executeAction(j.c,{courseProgress:n})},WidgetItemActions_markItemComplete=function(e,t){var s=t.itemId,n=t.courseId,r=t.userId,o=t.itemProgress,i=t.courseProgress,a=t.sessionId;return E.markComplete(s,n,r,a).then(WidgetItemActions_refreshProgress(e,S.d.progressCompleted,o,i))},WidgetItemActions_markItemStarted=function(e,t){var s=t.itemId,n=t.courseId,r=t.userId,o=t.itemProgress,i=t.courseProgress,a=t.sessionId;return E.markStarted(s,n,r,a).then(WidgetItemActions_refreshProgress(e,S.d.progressStarted,o,i))},isCompatibleWithMobile=function(e){var t=e.supportsTouch,s=e.minWidthPx,n=e.minHeightPx,r=function(){var e,t;if("undefined"!=typeof document&&"undefined"!=typeof window){var s=window.screen;if(void 0!==window.screen)e=s.height,t=s.width;else e=window.innerHeight,t=window.innerWidth}else e=0,t=0;return{deviceHeight:e,deviceWidth:t}}(),o=r.deviceWidth,i=r.deviceHeight;return!1!==t&&(!(void 0!==s&&s>o)&&!(void 0!==n&&n>i))},k=t("z3RS"),y=t("cVIm"),T=t("kvW3"),W=t("gKW9"),N=t.n(W),A=(t("46xw"),"".concat(y.a.url.resource_assets,"widget/svgcomputer.svg")),D=function(e){function UnavailableOnMobileMessage(){return e.apply(this,arguments)||this}return o()(UnavailableOnMobileMessage,e),UnavailableOnMobileMessage.prototype.render=function(){var e=this.props.name;return(c.createElement("div",{className:"rc-UnavailableOnMobileMessage vertical-box align-items-absolute-center"},c.createElement("div",{className:"headline-5-text p-x-1"},e),c.createElement("div",{className:"body-1-text p-x-1 p-b-2"},c.createElement(T.b,{message:N()("This item was not designed for use on a small screen.")})),c.createElement("div",{className:"align-horizontal-center p-b-2"},c.createElement("img",{className:"computer-icon",src:A,alt:N()("Computer Icon"),height:"120",width:"220"})),c.createElement("div",{className:"body-1-text horizontal-box align-horizontal-center p-x-1"},c.createElement(T.b,{message:N()("Please use a computer or laptop to complete this item.")}))))},UnavailableOnMobileMessage}(c.Component),F=t("pVnL"),U=t.n(F),z=t("3tO9"),R=t.n(z),utils_componentDataFetcher=function(e,t){var s=e.displayName||e.name,n=function(n){function DataFetcherComponent(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this).displayName=s+"DataFetcher",e.state={isComponentLoaded:!1},e}o()(DataFetcherComponent,n);var r=DataFetcherComponent.prototype;return r.componentDidMount=function(){var e=this,s=this.props,n=this.context,r=n.router,o=t(s,r.params,n).then((function(t){e.setState(R()({isComponentLoaded:!0},t))}));o.catch&&o.catch((function(e){throw e})),o.done&&o.done()},r.render=function(){return c.createElement(e,U()({},this.props,this.state))},DataFetcherComponent}(c.Component);return n.contextTypes={executeAction:m.a.func,router:m.a.object},n.BaseComp=e,n},L=t("Jz+x"),V=t("TdzE"),B=t("emlC"),H=t("35G5"),K=t("/AOU"),X=t("w/Ge"),q={widgetItem:Object(d.c)(s||(s=a()(["\n    margin: 20px auto;\n    max-width: 960px;\n\n    @media (max-width: 768px) {\n      margin: 0;\n      max-width: 100%;\n    }\n  "])))},G=[K.c.SET_COMPLETE],J=function(e){function WidgetItem(){for(var t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={iFrameMessages:[],widgetId:Object(X.b)(),itemProgressState:null,markCompleteDeferred:null,isExpanded:!1},t.onReceiveMessage=function(e){var s=t.state.iFrameMessages;if(s.push(e),t.setState({iFrameMessages:s}),e.type===K.c.SET_COMPLETE){t.markComplete();var n=l.a.defer();return t.setState({markCompleteDeferred:n}),n.promise}return l()()},t.onToggleExpanded=function(){return t.setState((function(e){return{isExpanded:!e.isExpanded}}))},t.markComplete=function(){var e=t.props,s=e.computedCourseProgress.courseProgress,n=e.computedItem,r=e.courseId,o=e.sessionId,i=s.getItemProgress(n.id),a=I.a.get().id,d=n.id;Object(j.b)(s.get("id"),s),t.context.executeAction(WidgetItemActions_markItemComplete,{itemId:d,courseId:r,userId:a,itemProgress:i,courseProgress:s,sessionId:o})},t.markStarted=function(){var e=t.props,s=e.computedCourseProgress.courseProgress,n=e.computedItem,r=e.courseId,o=e.sessionId,i=s.getItemProgress(n.id),a=I.a.get().id,d=n.id;t.context.executeAction(WidgetItemActions_markItemStarted,{itemId:d,courseId:r,userId:a,itemProgress:i,courseProgress:s,sessionId:o})},t.isOnMobile=function(){var e=t.context.getStore("ApplicationStore").getUserAgent(),s=e&&e.isMobileBrowser;return h.a.get()||s},t}o()(WidgetItem,e);var t=WidgetItem.prototype;return t.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,s=t.computedItem,n=t.computedCourseProgress.courseProgress.getItemProgress(s.id);n.getState()!==this.state.itemProgressState&&(this.setState({itemProgressState:n.getState()}),this.state.markCompleteDeferred&&(this.state.markCompleteDeferred.resolve(),this.setState({markCompleteDeferred:null})))},t.render=function(){var e,t=this,s=this.props,r=s.session,o=s.sessionId,i=s.computedItem,a=s.itemMetadata,c=s.courseMaterials,u=null==c?void 0:null===(e=c.getNeighbors(a))||void 0===e?void 0:e.nextItemMetadataOrItemGroup,m=this.state.isExpanded;return r?this.isOnMobile()&&!isCompatibleWithMobile(i.contentSummary.definition)?Object(d.d)(D,{name:i.name}):Object(d.d)("div",{css:q.widgetItem},Object(d.d)(b.b,{tagName:"h1"},i.name),Object(d.d)(w.a,{courseId:i.courseId,show:!0}),Object(d.d)(k.a,{itemName:i.name,itemMetadata:a,courseId:i.courseId}),Object(d.d)(H.a,{inWidgetItem:!0,session:r,sessionId:o,onToggleExpanded:this.onToggleExpanded,widgetId:this.state.widgetId,parentRpcActions:G,isComplete:i.isCompleted,widgetContentTitle:i.name,nextItem:u,markComplete:function(){t.markComplete()}}),Object(d.d)(v.b,{"aria-hidden":m,style:{marginTop:"50px",borderTop:"1px solid #ddd",paddingTop:"15px",paddingBottom:"15px"}},Object(d.d)(x.a,{computedItem:i,itemFeedbackType:"widget"}))):n||(n=Object(d.d)("div",{className:"horizontal-box align-items-absolute-center widget-iframe"},Object(d.d)(C.a,{name:"spinner",size:"2x",spin:!0,className:"color-hint-text"})))},WidgetItem}(c.Component);J.contextTypes={executeAction:m.a.func.isRequired,getStore:m.a.func};var Q=utils_componentDataFetcher(J,(function(e,t){var s=e.computedItem,n=e.courseId,r=e.courseSlug;return new f.a({itemId:s.id,courseId:n,courseSlug:r}).getWithUserCourseItemId("onDemandWidgetSessions.v1",{fields:["session","sessionId"]}).then((function(e){var t=e.elements[0];return{session:t.session,sessionId:t.sessionId}}))})),Y=Object(g.b)(Object(V.b)(),Object(L.a)(),Object(B.a)(["CourseStore"],(function(e){var t=e.CourseStore;return{courseId:t.getCourseId(),courseSlug:t.getCourseSlug(),courseMaterials:t.getMaterials()}})))(Q);e.default=Y},j5nu:function(module,exports,e){}}]);
//# sourceMappingURL=99.6e8a0a961f824adf8b73.js.map